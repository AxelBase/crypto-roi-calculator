import{$ as i,a0 as d,O as m,a1 as _,h as g,m as l,a2 as h}from"./wXv4P7XI.js";import{s as y}from"./xadvOlV1.js";function V(e,r,n=r){var v=new WeakSet;i(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=o(e)?u(a):a,n(a),l!==null&&v.add(l),await d(),a!==(a=r())){var b=e.selectionStart,t=e.selectionEnd,f=e.value.length;if(e.value=a??"",t!==null){var c=e.value.length;b===t&&t===f&&c>f?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=b,e.selectionEnd=Math.min(t,c))}}}),(g&&e.defaultValue!==e.value||m(r)==null&&e.value)&&(n(o(e)?u(e.value):e.value),l!==null&&v.add(l)),_(()=>{var s=r();if(e===document.activeElement){var a=h??l;if(v.has(a))return}o(e)&&s===u(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function o(e){var r=e.type;return r==="number"||r==="range"}function u(e){return e===""?null:+e}const S=()=>{const e=y;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},$={subscribe(e){return S().page.subscribe(e)}};export{V as b,$ as p};
