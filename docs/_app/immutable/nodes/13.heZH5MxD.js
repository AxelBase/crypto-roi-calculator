import{f as $,a as f,t as Bs,c as Ts}from"../chunks/Dus1rnU8.js";import"../chunks/Chzl3r_k.js";import{h as ma,a5 as Fs,ax as pa,ay as Gs,a7 as U,d as r,a8 as js,ab as s,a9 as a,O as w,R as T,q as I,K as m,aa as t,ac as A,a6 as Wa,a0 as qs}from"../chunks/wXv4P7XI.js";import{e as Y,s as b}from"../chunks/Dmbb-7lj.js";import{i as F}from"../chunks/CGk0kXJ_.js";import{t as j,f as aa,s as Ka,a as Cs}from"../chunks/BDSvQ8Rb.js";import{s as Bt,r as ua}from"../chunks/CNdQpoeT.js";import{b as fa,p as zs}from"../chunks/Bqw06FnA.js";import{i as Ns}from"../chunks/tpVvojZp.js";import{s as Us,a as As}from"../chunks/DJfbtsV0.js";import{b as Tt}from"../chunks/CRhzp5od.js";function Ds(l,c,d){var p=l==null?"":""+l;return p===""?null:p}function Es(l,c){return l==null?null:String(l)}function Za(l,c,d,p,q,O){var D=l.__className;if(ma||D!==d||D===void 0){var E=Ds(d);(!ma||E!==l.getAttribute("class"))&&(E==null?l.removeAttribute("class"):l.className=E),l.__className=d}return O}function Ft(l,c,d,p){var q=l.__style;if(ma||q!==c){var O=Es(c);(!ma||O!==l.getAttribute("style"))&&(O==null?l.removeAttribute("style"):l.style.cssText=O),l.__style=c}return p}function Hs(l,c,d,p,q){return l<=0||p<=0?0:((d-c)*p-q)/l*100}function Vs(l,c){if(c<=0)return null;const d=1+l/100,p=365/c;return p>50?1/0:(Math.pow(d,p)-1)*100}function Ls(l,c,d,p){return(c-l)*d-p}function Qs(l,c,d,p){return d<=0?0:(l+p)/d+c}function Gt(l,c,d,p,q){return d<=0?0:(q/100*l+p)/d+c}function o(l){return typeof l=="number"?l.toFixed(2):l}function y(l,c){return l*({USD:1,EUR:.92,GBP:.78}[c]||1)}function Ws(l){return{USD:"$",EUR:"€",GBP:"£"}[l]||"$"}var Ks=$('<span class="fs-6 opacity-40">Enter holding days</span>'),Zs=$(`<div class="alert alert-dismissible fade show glass-card mb-4 shadow-lg custom-warning" role="alert"><div class="d-flex align-items-start gap-3"><i class="bi bi-exclamation-triangle-fill fs-3 warning-icon flex-shrink-0"></i> <div class="flex-grow-1"><strong class="warning-title d-block mb-2">Very high returns detected!</strong> <ul class="mb-2 small warning-list"><li>Leverage or very small equity compared to position size?</li> <li>Possible typo? (e.g. quantity 2 instead of 0.02 for BTC?)</li> <li>Short holding period + huge price jump?</li></ul> <p class="small mb-0 warning-note"><em>These returns are mathematically correct but extremely rare in real markets.  
                    Double-check your inputs – extreme numbers usually mean extreme risk!</em></p></div></div> <button type="button" class="warning-close" aria-label="Close warning"><span aria-hidden="true">&times;</span></button></div>`),Js=$('<div class="progress-bar bg-success" title="Net Gains"></div> <div class="progress-bar bg-warning" title="Fees"></div>',1),Xs=$('<div class="progress-bar bg-danger" style="width: 100%;"></div>'),Ys=$('<p class="text-success fw-bold small"><i class="bi bi-check-circle-fill"></i> </p>'),ae=$('<p class="text-danger fw-bold small"><i class="bi bi-x-circle-fill"></i> </p>'),te=$('<p class="text-info small">At breakeven</p>'),se=$('<i class="bi bi-check-lg text-success"></i>'),ee=$('<i class="bi bi-clipboard"></i>'),re=$(`<div class="p-3 border-top border-secondary border-opacity-25"><div class="position-relative"><pre class="p-3 rounded-4" style="background: rgba(var(--color-accent-rgb), 0.05); border: 1px solid var(--glass-border); font-family: 'SFMono-Regular', monospace; font-size: 0.85rem; white-space: pre-wrap; color: var(--color-text-main);"> </pre> <button class="position-absolute top-0 end-0 m-2 btn btn-sm btn-dark shadow-sm"><!></button></div></div>`),ie=$('<span class="spinner-border spinner-border-sm me-2"></span>'),le=$('<i class="bi bi-play-fill"></i> Run Sim',1),oe=$('<div class="row g-3 mb-3"><div class="col-md-4"><div class="p-3 rounded-4 text-center h-100" style="background: rgba(25, 135, 84, 0.1); border: 1px solid rgba(25, 135, 84, 0.2);"><h2 class="text-success mb-0 fw-bold"> </h2> <small class="opacity-60 text-uppercase fw-bold" style="font-size: 0.7rem;">Probability</small></div></div> <div class="col-md-4"><div class="p-3 rounded-4 text-center h-100" style="background: rgba(13, 110, 253, 0.1); border: 1px solid rgba(13, 110, 253, 0.2);"><h3 class="text-primary mb-0 fw-bold"> </h3> <small class="opacity-60 text-uppercase fw-bold" style="font-size: 0.7rem;">Exp. Profit</small></div></div> <div class="col-md-4"><div class="p-3 rounded-4 text-center h-100" style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.2);"><h3 class="text-warning mb-0 fw-bold"> </h3> <small class="opacity-60 text-uppercase fw-bold" style="font-size: 0.7rem;">95% VaR (Risk)</small></div></div></div> <div class="d-flex justify-content-around small opacity-60 border-top border-secondary border-opacity-25 pt-3"><span>Best: <strong class="text-success"> </strong></span> <span>Median: <strong> </strong></span> <span>Worst: <strong class="text-danger"> </strong></span></div>',1),ne=$('<div class="p-4"><p class="small opacity-75 mb-4">Using <strong>Geometric Brownian Motion</strong> (GBM), we simulate 10,000 distinct price paths to forecast probabilities based on historical volatility.</p> <div class="row g-3 mb-4"><div class="col-6 col-md-3"><label for="mcTargetROI" class="form-label small opacity-60 fw-bold">Target ROI (%)</label> <input id="mcTargetROI" type="number" class="form-control" step="10"/></div> <div class="col-6 col-md-3"><label for="mcVolatility" class="form-label small opacity-60 fw-bold">Volatility (%)</label> <input id="mcVolatility" type="number" class="form-control" step="10"/></div> <div class="col-6 col-md-3"><label for="mcTimeHorizon" class="form-label small opacity-60 fw-bold">Days Out</label> <input id="mcTimeHorizon" type="number" class="form-control" step="30"/></div> <div class="col-6 col-md-3 d-flex align-items-end"><button type="button" class="btn btn-danger w-100 rounded-pill fw-bold"><!></button></div></div> <!></div>'),ce=$('<i class="bi bi-check2"></i> Copied',1),de=$('<i class="bi bi-share-fill"></i> Share',1),ve=$('<div class="container mt-5 pt-3"><div class="d-flex justify-content-between align-items-center mb-4"><h2 class="fw-bold mb-0"> </h2> <a class="btn btn-outline-secondary rounded-pill"><i class="bi bi-pencil-fill me-1"></i> Edit</a></div> <div class="glass-card mb-4 p-4 text-center"><div class="row g-3"><div class="col-md-4"><div class="p-3 rounded-4 h-100 d-flex flex-column justify-content-center" style="background: rgba(var(--color-accent-rgb), 0.08);"><small class="text-uppercase fw-bold opacity-60">Basic ROI</small> <div> <span class="fs-4">%</span></div></div></div> <div class="col-md-4"><div class="p-3 rounded-4 h-100 d-flex flex-column justify-content-center" style="background: rgba(var(--color-accent-rgb), 0.04);"><small class="text-uppercase fw-bold opacity-60">Net Profit</small> <div> </div></div></div> <div class="col-md-4"><div class="p-3 rounded-4 h-100 d-flex flex-column justify-content-center" style="background: rgba(var(--color-accent-rgb), 0.04);"><small class="text-uppercase fw-bold opacity-60">Annualized ROI</small> <div class="fs-3 fw-semibold"><!></div></div></div></div></div> <!> <div class="row"><div class="col-lg-6"><div class="glass-card mb-4 p-4 h-100"><h5 class="mb-3"><i class="bi bi-graph-up-arrow me-2 text-primary"></i>Profit Breakdown</h5> <div class="progress rounded-pill mb-3" style="height: 25px; background: rgba(var(--color-accent-rgb), 0.1);"><!></div> <div class="d-flex justify-content-between small mb-3"><span class="text-success"><i class="bi bi-circle-fill small"></i> </span> <span class="text-warning"><i class="bi bi-circle-fill small"></i> </span></div> <hr class="opacity-25 my-3"/> <h5 class="mb-2">Breakeven Price</h5> <div class="fs-4 fw-bold"> <span class="fs-6 opacity-50 fw-normal">/ unit</span></div> <!></div></div> <div class="col-lg-6"><div class="glass-card mb-4 p-4 h-100"><h5 class="mb-3"><i class="bi bi-crosshair me-2 text-danger"></i>Target Planner</h5> <label for="targetROI" class="form-label d-flex justify-content-between fw-bold"><span>Goal ROI</span> <span class="text-primary"> </span></label> <input type="range" class="form-range" id="targetROI" min="10" max="500" step="5"/> <div class="mt-4 p-3 rounded-4" style="background: rgba(var(--color-accent-rgb), 0.05);"><div class="row text-center"><div class="col-6 border-end border-secondary border-opacity-25"><small class="opacity-50 d-block">Sell Price</small> <strong class="text-primary fs-5"> </strong></div> <div class="col-6"><small class="opacity-50 d-block">Est. Profit</small> <strong class="text-success fs-5"> </strong></div></div></div></div></div></div> <div class="glass-card mb-4 p-0 overflow-hidden"><button class="w-100 p-3 d-flex justify-content-between align-items-center bg-transparent border-0 text-start" style="color: var(--color-text-main);"><h5 class="mb-0"><i class="bi bi-list-columns-reverse me-2"></i>Full Math Breakdown</h5> <i></i></button> <!></div> <div class="glass-card mb-5 overflow-hidden" style="background: var(--glass-bg); color: var(--color-text-main); border: 1px solid rgba(var(--color-accent-rgb), 0.2);"><div class="p-3 d-flex justify-content-between align-items-center border-bottom border-secondary border-opacity-50"><h5 class="mb-0 d-flex align-items-center gap-2"><span class="badge bg-danger rounded-pill">PRO</span> Monte Carlo Risk Simulator</h5> <button class="btn btn-sm btn-outline-primary rounded-pill px-3"> </button></div> <!></div> <div class="d-flex justify-content-center gap-3 mb-5"><button class="btn btn-primary rounded-pill px-4 shadow-sm"><!></button> <a class="btn btn-outline-secondary rounded-pill px-4">Home</a></div></div>');function $e(l,c){Fs(c,!1);const d=()=>Us(zs,"$page",p),[p,q]=As(),O=I(),D=I(),E=I(),ga=I(),C=d().url.searchParams,V=parseFloat(C.get("initial")||"0"),z=parseFloat(C.get("purchase")||"0"),L=parseFloat(C.get("sale")||"0"),N=parseFloat(C.get("qty")||"0"),B=parseFloat(C.get("fees")||"0"),Q=parseFloat(C.get("days")||"0"),v=C.get("currency")||"USD",jt=y(V,v),qt=y(z,v),Ct=y(L,v),Ja=y(B,v),u=Ws(v),W=Hs(V,z,L,N,B),Xa=Ls(z,L,N,B),zt=y(Xa,v),K=Vs(W,Q),Ya=Qs(V,z,N,B),Nt=y(Ya,v),_a=L-Ya,at=y(_a,v);let H=I(50);const Z=(L-z)*N,ta=Math.max(Z,0),Ut=ta>0?(Z-B)/ta*100:0,At=ta>0?B/ta*100:100,tt=`
Crypto ROI Breakdown – ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}

Inputs (${v}):
• Initial Investment: ${u}${o(jt)}
• Purchase Price per Unit: ${u}${o(qt)}
• Sale Price per Unit: ${u}${o(Ct)}
• Quantity: ${o(N)}
• Transaction Fees: ${u}${o(Ja)}
• Holding Period: ${Q>0?Q+" days":"N/A"}

Calculations:
1. Gross Gains = (Sale Price - Purchase Price) × Quantity = ${u}${o(y(Z,v))}
2. Net Profit = Gross Gains - Fees = ${u}${o(y(Z-B,v))}
3. Basic ROI = ${o(W)}%
`.trim();let ya=I(!1),ha=I(!1);async function Dt(){await navigator.clipboard.writeText(window.location.href),m(ya,!0),setTimeout(()=>m(ya,!1),2e3)}async function Et(){await navigator.clipboard.writeText(tt),m(ha,!0),setTimeout(()=>m(ha,!1),2e3)}let sa=I(!1),st=I(!0),ea=I(!1),xa=I(100),wa=I(80),$a=I(365),J=1e4,P=I(null),ra=I(!1);async function Ht(){m(ra,!0),m(P,null),await qs();const e=Gt(V,z,N,B,r(xa)),i=Q>0?Math.log(1+W/100)/(Q/365):0,n=r(wa)/100,h=r($a)/365,M=1/365,g=Math.round(h/M);let R=0,x=[];for(let S=0;S<J;S++){let _=L;for(let va=0;va<g;va++){const Ea=Vt();_=_*Math.exp((i-.5*n*n)*M+n*Math.sqrt(M)*Ea)}const G=(_-z)*N-B;x.push(G),_>=e&&R++}x.sort((S,_)=>S-_),m(P,{probability:o(R/J*100),expected:o(y(x.reduce((S,_)=>S+_,0)/J,v)),var95:o(y(x[Math.floor(.05*J)],v)),median:o(y(x[Math.floor(.5*J)],v)),worst:o(y(x[0],v)),best:o(y(x[J-1],v))}),m(ra,!1)}function Vt(){const e=1-Math.random(),i=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*i)}pa(()=>r(H),()=>{m(O,Gt(V,z,N,B,r(H)))}),pa(()=>r(O),()=>{m(D,y(r(O),v))}),pa(()=>r(H),()=>{m(E,r(H)/100*V)}),pa(()=>r(E),()=>{m(ga,y(r(E),v))}),Gs(),Ns();var ka=ve(),ia=a(ka),Pa=a(ia),Lt=a(Pa);t(Pa);var Qt=s(Pa,2);t(ia);var la=s(ia,2),et=a(la),Ra=a(et),rt=a(Ra),Ia=s(a(rt),2),Wt=a(Ia,!0);A(),t(Ia),t(rt),t(Ra);var Sa=s(Ra,2),it=a(Sa),Ma=s(a(it),2),Kt=a(Ma);t(Ma),t(it),t(Sa);var lt=s(Sa,2),ot=a(lt),nt=s(a(ot),2),Zt=a(nt);{var Jt=e=>{var i=Bs();U(n=>b(i,n),[()=>(T(o),w(()=>K===1/0?"∞":o(K)+"%"))]),f(e,i)},Xt=e=>{var i=Ks();f(e,i)};F(Zt,e=>{Q>0&&K!==null?e(Jt):e(Xt,!1)})}t(nt),t(ot),t(lt),t(et),t(la);var ct=s(la,2);{var Yt=e=>{var i=Zs(),n=s(a(i),2);t(i),Y("click",n,()=>m(st,!1)),j(1,i,()=>Ka),f(e,i)};F(ct,e=>{r(st)&&(W>500||K!==null&&(K>1e4||K===1/0))&&e(Yt)})}var Oa=s(ct,2),Ba=a(Oa),Ta=a(Ba),Fa=s(a(Ta),2),as=a(Fa);{var ts=e=>{var i=Js(),n=Wa(i),h=s(n,2);U(()=>{Ft(n,`width: ${Ut}%;`),Ft(h,`width: ${At}%;`)}),f(e,i)},ss=e=>{var i=Xs();f(e,i)};F(as,e=>{Z>0?e(ts):e(ss,!1)})}t(Fa);var Ga=s(Fa,2),ja=a(Ga),es=s(a(ja));t(ja);var dt=s(ja,2),rs=s(a(dt));t(dt),t(Ga);var qa=s(Ga,6),is=a(qa);A(),t(qa);var ls=s(qa,2);{var os=e=>{var i=Ys(),n=s(a(i));t(i),U(h=>b(n,` Safe by ${u??""}${h??""}`),[()=>(T(o),w(()=>o(at)))]),f(e,i)},ns=e=>{var i=Ts(),n=Wa(i);{var h=g=>{var R=ae(),x=s(a(R));t(R),U(S=>b(x,` Under by ${u??""}${S??""}`),[()=>(T(o),w(()=>o(Math.abs(at))))]),f(g,R)},M=g=>{var R=te();f(g,R)};F(n,g=>{_a<0?g(h):g(M,!1)},!0)}f(e,i)};F(ls,e=>{_a>0?e(os):e(ns,!1)})}t(Ta),t(Ba);var vt=s(Ba,2),Ca=a(vt),za=s(a(Ca),2),bt=s(a(za),2),cs=a(bt);t(bt),t(za);var Na=s(za,2);ua(Na);var pt=s(Na,2),ut=a(pt),Ua=a(ut),ft=s(a(Ua),2),ds=a(ft);t(ft),t(Ua);var mt=s(Ua,2),gt=s(a(mt),2),vs=a(gt);t(gt),t(mt),t(ut),t(pt),t(Ca),t(vt),t(Oa);var oa=s(Oa,2),na=a(oa),bs=s(a(na),2);t(na);var ps=s(na,2);{var us=e=>{var i=re(),n=a(i),h=a(n),M=a(h,!0);t(h);var g=s(h,2),R=a(g);{var x=_=>{var G=se();f(_,G)},S=_=>{var G=ee();f(_,G)};F(R,_=>{r(ha)?_(x):_(S,!1)})}t(g),t(n),t(i),U(()=>b(M,tt)),Y("click",g,Et),j(3,i,()=>Ka),f(e,i)};F(ps,e=>{r(sa)&&e(us)})}t(oa);var ca=s(oa,2),Aa=a(ca),Da=s(a(Aa),2),fs=a(Da,!0);t(Da),t(Aa);var ms=s(Aa,2);{var gs=e=>{var i=ne(),n=s(a(i),2),h=a(n),M=s(a(h),2);ua(M),t(h);var g=s(h,2),R=s(a(g),2);ua(R),t(g);var x=s(g,2),S=s(a(x),2);ua(S),t(x);var _=s(x,2),G=a(_),va=a(G);{var Ea=k=>{var X=ie();f(k,X)},ws=k=>{var X=le();A(),f(k,X)};F(va,k=>{r(ra)?k(Ea):k(ws,!1)})}t(G),t(_),t(n);var $s=s(n,2);{var ks=k=>{var X=oe(),ba=Wa(X),Ha=a(ba),yt=a(Ha),ht=a(yt),Ps=a(ht);t(ht),A(2),t(yt),t(Ha);var Va=s(Ha,2),xt=a(Va),wt=a(xt),Rs=a(wt);t(wt),A(2),t(xt),t(Va);var $t=s(Va,2),kt=a($t),Pt=a(kt),Is=a(Pt);t(Pt),A(2),t(kt),t($t),t(ba);var Rt=s(ba,2),La=a(Rt),It=s(a(La)),Ss=a(It);t(It),t(La);var Qa=s(La,2),St=s(a(Qa)),Ms=a(St);t(St),t(Qa);var Mt=s(Qa,2),Ot=s(a(Mt)),Os=a(Ot);t(Ot),t(Mt),t(Rt),U(()=>{b(Ps,`${r(P),w(()=>r(P).probability)??""}%`),b(Rs,`${u??""}${r(P),w(()=>r(P).expected)??""}`),b(Is,`${u??""}${r(P),w(()=>r(P).var95)??""}`),b(Ss,`${u??""}${r(P),w(()=>r(P).best)??""}`),b(Ms,`${u??""}${r(P),w(()=>r(P).median)??""}`),b(Os,`${u??""}${r(P),w(()=>r(P).worst)??""}`)}),j(1,ba,()=>Cs),f(k,X)};F($s,k=>{r(P)&&k(ks)})}t(i),U(()=>G.disabled=r(ra)),fa(M,()=>r(xa),k=>m(xa,k)),fa(R,()=>r(wa),k=>m(wa,k)),fa(S,()=>r($a),k=>m($a,k)),Y("click",G,Ht),j(3,i,()=>Ka),f(e,i)};F(ms,e=>{r(ea)&&e(gs)})}t(ca);var _t=s(ca,2),da=a(_t),_s=a(da);{var ys=e=>{var i=ce();A(),f(e,i)},hs=e=>{var i=de();A(),f(e,i)};F(_s,e=>{r(ya)?e(ys):e(hs,!1)})}t(da);var xs=s(da,2);t(_t),t(ka),U((e,i,n,h,M,g,R,x)=>{b(Lt,`ROI Results (${v??""})`),Bt(Qt,"href",`${Tt??""}/calculator?${e??""}`),Za(Ia,1,`display-4 fw-bold ${W>=0?"text-success":"text-danger"}`),b(Wt,i),Za(Ma,1,`fs-2 fw-bold ${Xa>=0?"text-success":"text-danger"}`),b(Kt,`${u??""}${n??""}`),b(es,` Net: ${u??""}${h??""}`),b(rs,` Fees: ${u??""}${M??""}`),b(is,`${u??""}${g??""} `),b(cs,`${r(H)??""}%`),b(ds,`${u??""}${R??""}`),b(vs,`${u??""}${x??""}`),Za(bs,1,`bi bi-chevron-${r(sa)?"up":"down"}`),b(fs,r(ea)?"Hide":"Open Simulator"),Bt(xs,"href",`${Tt??""}/`)},[()=>w(()=>C.toString()),()=>(T(o),w(()=>o(W))),()=>(T(o),w(()=>o(zt))),()=>(T(o),T(y),w(()=>o(y(Z-B,v)))),()=>(T(o),w(()=>o(Ja))),()=>(T(o),w(()=>o(Nt))),()=>(T(o),r(D),w(()=>o(r(D)))),()=>(T(o),r(ga),w(()=>o(r(ga))))]),j(1,ia,()=>aa,()=>({y:-20,duration:600})),j(1,la,()=>aa,()=>({y:20,duration:800})),j(1,Ta,()=>aa,()=>({x:-20,duration:800,delay:200})),fa(Na,()=>r(H),e=>m(H,e)),j(1,Ca,()=>aa,()=>({x:20,duration:800,delay:200})),Y("click",na,()=>m(sa,!r(sa))),j(1,oa,()=>aa,()=>({y:20,duration:800,delay:300})),Y("click",Da,()=>m(ea,!r(ea))),j(1,ca,()=>aa,()=>({y:30,duration:1e3,delay:400})),Y("click",da,Dt),f(l,ka),js(),q()}export{$e as component};
